<h2>User Management</h2>
<%if can? :manage, :users%>

<table>
	<tr>
		<th>
			<%= will_paginate @users %>
		</th>
	</tr>
</table>

	<table class="alt" >
	<thead>
		<tr>
			<th>User Name</th>
			<th>E-mail</th>
			<th>Role</th>
			<th>Login Count</th>
			<th>Last Login at</th>
			<th colspan="3">Operations</th>
		</tr>
	</thead>
	<tbody>
	<% @users.each do |user| %>
		<tr>
		<td><%= user.username %></td>
		<td><%= user.email %></td>
		<td><%= user.role %></td>
		<td><%= user.sign_in_count %></td>
		<td><%= user.current_sign_in_ip %></td>
		<td><%= button_to 'Show', user, method: :get %></td>
		<td><%= button_to 'Edit', edit_user_path(user) , method: :get%></td>
		<td><%= button_to 'Del', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>
	</tr>
<% end %>
	</tbody>
</table>

<table>
	<tr>
		<th>
			<%= will_paginate @users %>
		</th>
	</tr>
</table>

<br/>

<%#= button_to 'New User', new_registration_path(:user), method: :get %>
<% else %>
	Access Denied !
<% end %>
